!function(){document.addEventListener("DOMContentLoaded",function(){var n=document.querySelector(".jsonlist");$.ajaxSetup({url:"../json/coffersPage.json",dataType:"json",success:function(a){$.each(a,function(a,e){var t=$("<li/>");$("<p/>").html(e.inOrout).appendTo(t),$("<p/>").html(e.surplus).appendTo(t),$("<p/>").html(e.remark).appendTo(t),$("<p/>").html(e.time).appendTo(t),t.appendTo(n)})}}),$.ajax();var a=0;$(window).on("scroll",function(){var n=$(window).scrollTop();if(n>=$(document).height()-$(window).height()-100){if(!(a<=3))return!1;$.ajax(),a++}})})}(),function(){document.addEventListener("DOMContentLoaded",function(){var n=document.querySelectorAll("datalist"),a=document.querySelectorAll(".shippingAddress");a[0].onfocus=function(){$.ajax({url:"../json/region.json",dataType:"json",success:function(a){$.each(a.regions,function(a,e){$("<option/>").html(e.name).attr({value:e.name}).appendTo(n[0])})}})},a[1].onfocus=function(){""!=a[0].value&&$.ajax({url:"../json/region.json",dataType:"json",success:function(e){$.each(e.regions,function(e,t){a[0].value==t.name&&$.each(t.regions,function(a,e){$("<option/>").html(e.name).attr({value:e.name}).appendTo(n[1])})})}})},a[2].onfocus=function(){""!=a[1].value&&""!=a[0].value&&$.ajax({url:"../json/region.json",dataType:"json",success:function(e){$.each(e.regions,function(e,t){$.each(t.regions,function(e,t){a[1].value==t.name&&$.each(t.regions,function(a,e){$("<option/>").html(e.name).attr({value:e.name}).appendTo(n[2])})})})}})}})}(),function(){document.addEventListener("DOMContentLoaded",function(){console.log(11111);var n=JSON.parse(localStorage.getItem("goods")),a=$(".ming"),e=$(".jg");a.html(n.title),e.html("￥"+n.price);var t=$(".tu div:first").find("img");t.attr("src",n.imgUrl);var o=$("#addtoCar");o.click(function(){var a=localStorage.getItem("datalist");a=a?JSON.parse(a):[];var e=!1;a.forEach(function(a,t){a.code==n.code&&(e=!0,a.num+=1)}),e||a.push(n),localStorage.setItem("datalist",JSON.stringify(a)),console.log(a)});new Swiper(".bao .swiper-container",{loop:!0,autoplay:5e3,pagination:".swiper-pagination",paginationClickable:!0,spaceBetween:30});$("img.lazy").lazyload();var i=$(".news-list");$.ajaxSetup({url:"../json/pinglun.json",success:function(n){$.each(n,function(n,a){var e=$("<div/>").addClass("pj").html("<div class='one'><div class='ming'><img src="+a.imgurl+"    /><span>"+a.id+"</span></div><div  class='day'>"+a.ping+"</div></div><span class='xing iconfont icon-xing '>  </span><span class='xing iconfont icon-xing '>  </span><span class='xing iconfont icon-xing' >  </span><span class='xing iconfont icon-xing '>  </span><span class='xing iconfont icon-xing '>  </span><p   class='ping'>"+a.pinglun+"</p><p class='buy'>"+a.buy+"</p>");i.append(e)})}}),$.ajax(),$(window).on("scroll",function(){var n=$(window).scrollTop();n>=$(document).height()-$(window).height()-200&&$.ajax()});var s=new Swiper("#tabs-container",{speed:500,onSlideChangeStart:function(){$(".tabs .active").removeClass("active"),$(".tabs h2").eq(s.activeIndex).addClass("active")}});$(".tabs h2").on("touchstart mousedown",function(n){n.preventDefault(),$(".tabs .active").removeClass("active"),$(this).addClass("active"),s.slideTo($(this).index()-1),console.log($(this).index())}),$(".tabs h2").click(function(n){n.preventDefault()})})}(),function(){document.addEventListener("DOMContentLoaded",function(){function n(){var n={};n.name=o[0].value,n.psW=o[2].value,s.unshift(n),console.log(l),1==l&&1==c&&1==r&&(localStorage.setItem("wordList",JSON.stringify(s)),alert("地球人，您已经越过太阳系，快去登录吧！"),setTimeout(window.open("register.html"),1e3))}function a(){var n=o[0],a=o[0].value;return""==a?(n.style.borderColor="#f20266",!0):/^[1][358][0-9]{9}$/.test(a)?(n.style.borderColor="#ccc",l=!0,!1):void 0}function e(){var n=o[2],a=o[2].value,e=document.querySelector(".hxy-active");return""==a?(n.style.borderColor="#f20266",!0):/[a-z0-9A-Z]{6,20}$/.test(a)?(c=!0,n.style.borderColor="#ccc",e.innerHTML="",!1):(n.style.borderColor="#f20266",e.style.color="#f20266",e.innerHTML="请输入6到20位字母和数字的组合的密码",void 0)}function t(){var n=o[3],a=o[3].value,e=document.querySelector(".hxy-active2");return""==a?(n.style.borderColor="#f20266",!0):void(a===o[2].value?(r=!0,n.style.borderColor="#ccc",e.innerHTML=""):(n.style.borderColor="#f20266",e.style.color="#f20266",e.innerHTML="请正确匹配密码"))}var o=document.querySelectorAll("input"),i=document.querySelector("button"),s=localStorage.getItem("wordList");s=s?JSON.parse(s):[],i.onclick=function(){n()};var l=!1,c=!1,r=!1;o[0].onblur=function(){a()},o[2].onblur=function(){e()},o[3].onblur=function(){t()}})}(),function(){document.addEventListener("DOMContentLoaded",function(){var n=document.querySelector(".content"),a=JSON.parse(localStorage.getItem("datalist"));a.forEach(function(a,e){var t=$("<ul/>");$("<li/>").append($("<span/>").html("店铺一")).append($("<span/>").html("交易成功").addClass("bianse")).appendTo(t),$("<li/>").append($("<a/>").attr({href:"xiangqing.html"}).append($("<img/>").attr({src:a.imgUrl}))).append($("<span/>").addClass("name").html(a.title)).append($("<span/>").addClass("price").html("￥"+a.price)).append($("<span/>").addClass("number").html("X "+a.num)).appendTo(t),$("<li/>").append($("<span/>").addClass("tongji").html("共2件商品，合计：￥240")).appendTo(t),$("<li/>").append($("<span/>").addClass("anniu").append($("<button/>").html("付款")).append($("<button/>").html("删除订单").addClass("delate")).append($("<button/>").html("查看物流"))).appendTo(t),t.appendTo(n)});for(var e=document.querySelectorAll(".delate"),t=0;t<e.length;t++)$(e[t]).on("singleTap",function(){$(this).parents("ul").remove()})})}(),function(){document.addEventListener("DOMContentLoaded",function(){new Swiper(".swiper-container",{autoplay:3e3,direction:"horizontal"})}),$(function(){$.ajaxSetup({url:"json/indexpro.json",dataType:"json",success:function(n){console.log(n),$.each(n,function(n,a){var e=$("<dl/>").addClass("hxy-pro-list"),t=$("<dt/>"),o=$("<dd/>"),i=$("<a/>").attr({href:a.href}),s=$("<a/>").attr({href:a.href}),l=$("<a/>").attr({href:a.href});$("<img data-original="+a.imgurl+"/>").addClass("lazy").appendTo(i),$("<p/>").addClass("hxy-pro-intr").html(a.title).appendTo(s),$("<span/>").addClass("hxy-integral").html(a.proPri).appendTo(l),$("<span/>").addClass("hxy-pro-price").html(a.price+"<i class='hxy-unit'>起</i>").appendTo(l),i.appendTo(t),s.appendTo(o),l.appendTo(o),t.appendTo(e),o.appendTo(e),e.appendTo($(".hxy-project"))})},error:function(n,a){alert("Ajax error")}}),$.ajax(),$(".hxy-container").scroll(function(){$(".hxy-backTop").on("click",function(){$(".hxy-container").scrollTop(0)}),$("img.lazy").lazyload({effect:"fadeIn"})})})}(),function(){$(function(){function n(){$.ajax({url:"../json/list.json",success:function(n){$.each(n,function(n,o){if(e>n&&t<n){var i=$("<div/>").addClass("goods col-xs-6 ").attr({"data-code":o.code}).html("<fieldset><img src="+o.imgUrl+" class='col-xs-12'/><figcaption><a href='#'>"+o.title+"</a></figcaption><p><span class='iconfont icon-jifen'></span><b>"+o.price+"</b></p></fieldset>");i.appendTo(a)}}),t=e}})}var a=$(".xcontent"),e=8,t=-1;n();var o=$("#top");$(window).scroll(function(){var a=document.documentElement.scrollTop||document.body.scrollTop,t=$("html").height(),i=window.innerHeight;a==t-i&&(e+=8,n()),a>i?o.css("display","flex"):o.css("display","none")}),o.singleTap(function(){$(window).scrollTop(0)});var i=$("#classify"),s=$("#brand"),l=$(".classify-menu");i.singleTap(function(){$(this).find(".iconfont").toggleClass("active"),$(this).toggleClass("active2"),l.toggleClass("active3")});var c=$(".classify-menu .leval1 li"),r=$(".classify-menu .leval2 li"),d=$(".classify-menu .leval3 li");c.singleTap(function(){var e=$(this).attr("data-name");if("all"==e)r.css("display","none"),d.css("display","none"),i.find("b").html("分类"),i.find(".iconfont").toggleClass("active"),i.toggleClass("active2"),$(this).addClass("active").siblings("li").removeClass("active"),l.removeClass("active3"),a.html(""),t=-1,n();else{d.css("display","none"),$(this).addClass("active").siblings("li").removeClass("active");var o=$(".classify-menu .leval2");o.find("."+e).siblings("li").css("display","none"),o.find("."+e).css("display","block")}r.singleTap(function(){$(this).addClass("active").siblings("li").removeClass("active");var n=$(".classify-menu .leval3"),a=$(this).attr("data-name");n.find("."+a).siblings("li").css("display","none"),n.find("."+a).css("display","block")})}),d.singleTap(function(){$(this).addClass("active").siblings("li").removeClass("active"),i.find(".iconfont").removeClass("active"),i.removeClass("active2"),l.removeClass("active3");var n=$(this).children().html();i.find("b").html(n),a.html(""),$.ajax({url:"../json/list.json",success:function(e){$.each(e,function(e,t){if(t.category==n){var o=$("<div/>").addClass("goods col-xs-6").attr({"data-code":t.code}).html("<fieldset><img src="+t.imgUrl+" class='col-xs-12'/><figcaption><a href='#'>"+t.title+"</a></figcaption><p><span class='iconfont icon-jifen'></span><b>"+t.price+"</b></p></fieldset>");o.appendTo(a)}})}})}),s.singleTap(function(){$(this).find(".iconfont").toggleClass("active"),$(this).toggleClass("active2")});var p=$(".footer div");p.singleTap(function(){$(this).addClass("active").siblings("div").removeClass("active")}),a.on("singleTap","div",function(){var n=$(this).attr("data-code"),a=$(this).find("img").attr("src"),e=$(this).find("figcaption a").html(),t=$(this).find("b").html(),o={};o.title=e,o.code=n,o.imgUrl=a,o.price=t,o.num=1,localStorage.setItem("goods",JSON.stringify(o)),location.href="details.html"})})}(),function(){$(function(){$(".icon-fenlei").on("singleTap",function(){$(".caidan").toggle()})})}(),function(){document.addEventListener("DOMContentLoaded",function(){})}(),function(){document.addEventListener("DOMContentLoaded",function(){function n(){var n=e[0],a=e[0].value;return""==a?(n.style.borderColor="#f20266",o.style.color="#f20266",o.innerHTML="错误",!0):/^[1][358][0-9]{9}$/.test(a)?(o.innerHTML="正确",n.style.borderColor="#ccc",o.style.color="green",l=!0,!1):(n.style.borderColor="#f20266",o.style.color="#f20266",o.innerHTML="错误",void 0)}function a(){var n=e[1],a=e[1].value;return""==a?(n.style.borderColor="#f20266",!0):/[a-z0-9A-Z]{6,20}$/.test(a)?(c=!0,n.style.borderColor="#ccc",!1):(n.style.borderColor="#f20266",void(tishi.style.color="#f20266"))}var e=document.querySelectorAll("input"),t=document.querySelector("button"),o=document.querySelector(".op"),i=localStorage.getItem("wordList");i=i?JSON.parse(i):[];var s=i[i.length-1];t.onclick=function(){if(1==l&&1==c&&e[0].value==s.name&&e[1].value==s.psW){window.open("personalCenter.html");var n=e[0].value,a=e[1].value,t={};t.name=n,t.psW=a,localStorage.setItem("Info",JSON.stringify(t))}else alert("账户或密码错误")},e[0].onblur=function(){n()},e[1].onblur=function(){a()};var l=!1,c=!1})}(),function(){$(function(){var n=JSON.parse(localStorage.getItem("datalist"));if(n){var a=$(".xcontent");n.forEach(function(n,e){var t=$("<div/>").addClass("goods").attr("data-code",n.code),o=$("<div/>").addClass("part1").html("<span class='iconfont icon-yuanquan check'></span><img src="+n.imgUrl+" />"),i=$("<div/>").addClass("part2").html("<h4>"+n.title+"</h4><p data-price="+n.price+">&yen;"+n.price*n.num+"</p><div class='shuliang'><span class='sub iconfont icon-jian'></span><span class='num'>"+n.num+"</span><span class='add iconfont icon-jia'></span><span class='iconfont icon-lajitong0-copy del'></span></div>");t.append(o).append(i).appendTo(a)})}var e=$(".sub"),t=$(".add"),o=($(".num"),$(".del")),i=$(".checkAll"),s=$(".check"),l=$(".total p"),c=$(".part2 p");e.singleTap(function(){var a=parseInt($(this).next().html()),e=parseInt($(this).parent().prev().attr("data-price")),t=parseInt($(this).parent().prev().html().substring(1));if(a<=1)a=1;else if(a+=-1,t-=e,"请选择购物车"==l.html())var o=0;else{var o=parseInt(l.find("span").html());o-=e,l.html("去结算( &yen; <span>"+o+" </span>)")}$(this).next().html(a),$(this).parent().prev().html("&yen;"+t);var i=$(this).parents(".goods").attr("data-code");n.forEach(function(n,e){n.code==i&&(n.num=a)}),localStorage.setItem("datalist",JSON.stringify(n))}),t.singleTap(function(){var a=parseInt($(this).prev().html()),e=parseInt($(this).parent().prev().attr("data-price")),t=parseInt($(this).parent().prev().html().substring(1));a++,t+=e,$(this).prev().html(a),$(this).parent().prev().html("&yen;"+t);var o=$(this).parents(".goods").attr("data-code");if(n.forEach(function(n,e){n.code==o&&(n.num=a)}),localStorage.setItem("datalist",JSON.stringify(n)),"请选择购物车"==l.html())var i=0;else{var i=parseInt(l.find("span").html());i+=e,l.html("去结算( &yen; <span>"+i+" </span>)")}}),o.singleTap(function(){$(this).parent().parent().parent().remove();var a=$(this).parents(".goods").attr("data-code");n.forEach(function(e,t){e.code==a&&n.splice(t,0)}),localStorage.setItem("datalist",JSON.stringify(n))}),s.singleTap(function(){if($(this).hasClass("active"))$(this).removeClass("icon-gouxuan active").addClass("icon-yuanquan"),l.html("请选择购物车");else{$(this).removeClass("icon-yuanquan").addClass("icon-gouxuan active");var n=parseInt($(this).parent().next().find(".num").html()),a=parseInt($(this).parent().next().find("p").attr("data-price")),e=a*n;if("请选择购物车"==l.html())var t=0;else var t=parseInt(l.find("span").html());e+=t,l.html("去结算( &yen; <span>"+e+" </span>)")}}),i.singleTap(function(){if(i.hasClass("active"))i.removeClass("icon-gouxuan active").addClass("icon-yuanquan"),s.removeClass("icon-gouxuan active").addClass("icon-yuanquan"),l.html("请选择购物车");else{i.removeClass("icon-yuanquan").addClass("icon-gouxuan active"),s.removeClass("icon-yuanquan").addClass("icon-gouxuan active");var n=0;$.each(c,function(a,e){var t=c[a].innerHTML;t=t.substring(1),n+=parseInt(t)}),l.html("去结算( &yen;<span> "+n+" </span>)")}});var r=$("#pay");r.singleTap(function(){location.href="indentPage.html"})})}();